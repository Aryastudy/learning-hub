<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„å¤–è¯­å¬å†™ç«™ - BBC Learning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* å®šä¹‰ç‚¹å‡»åçš„é«˜äº®é¢œè‰² */
        .active-segment { 
            background-color: #fef08a !important; 
            border-color: #facc15 !important; 
            transform: scale(1.02);
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen p-4 font-sans text-gray-900">

    <div class="max-w-2xl mx-auto bg-white shadow-2xl rounded-3xl p-6 mt-8">
        <h1 class="text-2xl font-bold text-indigo-700 mb-6 text-center">ğŸŒ³ BBC å¬å†™ç»ƒä¹ åŠ©æ‰‹</h1>
        
        <div class="bg-gray-100 p-4 rounded-2xl mb-6">
            <audio id="player" class="w-full" controls src="audio.mp3"></audio>
        </div>

        <div class="flex justify-between items-center mb-6 p-4 bg-indigo-50 rounded-2xl">
            <label class="flex items-center cursor-pointer group">
                <input type="checkbox" id="repeatMode" class="w-5 h-5 text-indigo-600 rounded-md border-gray-300">
                <span class="ml-3 font-semibold text-indigo-800">å•å¥å¤è¯»æ¨¡å¼</span>
            </label>
            <button onclick="toggleText()" class="px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-indigo-600 font-medium hover:bg-indigo-600 hover:text-white hover:border-indigo-600 transition-all duration-300 shadow-sm">
                æ˜¾ç¤º/éšè—åŸæ–‡
            </button>
        </div>

        <div id="content" class="space-y-3 transition-opacity duration-300 min-h-[200px]">
            <div class="text-center text-gray-400 py-10 italic">
                ç­‰å¾…åŠ è½½ JSON æ•°æ®ä¸­...
            </div>
        </div>
    </div>

    <script>
        /**
         * ã€å…³é”®ï¼šè¿™é‡Œæ˜¯ä½ è¦æ”¾ AI Studio æ•°æ®çš„åœ°æ–¹ã€‘
         * ç­‰ä½ åœ¨ AI Studio æ‹¿åˆ° BBC çš„è½¬å½•æ•°æ®åï¼Œ
         * ç›´æ¥æŠŠä¸‹é¢è¿™ä¸ª data æ•°ç»„é‡Œçš„å†…å®¹æ›¿æ¢æ‰å³å¯ã€‚
         */
        const data = [
  {
    "text": "The English oak is one of Britain's most iconic trees.",
    "start": 5.0,
    "end": 8.5
  },
  {
    "text": "Broad and majestic, this tree supports more species than any other native tree in the UK, from blackbirds, to squirrels to butterflies.",
    "start": 9.0,
    "end": 17.8
  },
  {
    "text": "For centuries it has stood watching the landscapes change and our societies evolve.",
    "start": 18.8,
    "end": 23.3
  },
  {
    "text": "The question is, can a tree remember, learn and adapt to new environments within its lifetime?",
    "start": 24.0,
    "end": 29.3
  },
  {
    "text": "Does wisdom lie within its boughs?",
    "start": 30.0,
    "end": 32.5
  },
  {
    "text": "Trees provide a physical record of their life experiences in their growth rings.",
    "start": 33.0,
    "end": 38.3
  },
  {
    "text": "Dendrochronologists take samples from a tree trunk and are able to see whether a tree has been through a forest fire, periods of drought or a rainy season.",
    "start": 39.0,
    "end": 49.3
  },
  {
    "text": "But these markings are more than just battle scars.",
    "start": 50.0,
    "end": 53.0
  },
  {
    "text": "An organisation called Membra studies a number of UK tree species to see how they 'remember' and respond to environmental stress.",
    "start": 54.0,
    "end": 102.3
  },
  {
    "text": "Their research shows that environmental events do not change the tree's genetic code, but they can change how its genes react, which helps the tree adapt and defend itself against future drought, disease or climate extremes.",
    "start": 103.0,
    "end": 115.3
  },
  {
    "text": "So, trees don't have conscious memories of events like humans do â€“ they remember through biological, structural changes.",
    "start": 116.0,
    "end": 123.5
  },
  {
    "text": "That's a tree's defence in its own lifespan, but can their memories be passed down to future generations?",
    "start": 124.0,
    "end": 129.5
  },
  {
    "text": "Membra's research found that seedlings were more tolerant to drought when their parents had experienced repeated drought.",
    "start": 130.0,
    "end": 136.5
  },
  {
    "text": "And in one of the world's largest climate change experiments, published in Nature Climate Change by Richard Norby and colleagues, they pumped extra CO2 into an oak forest.",
    "start": 137.0,
    "end": 147.5
  },
  {
    "text": "Not only did the trees absorb more CO2, but the offspring of those trees also grew faster and were more resistant to disease, suggesting that tough conditions might make trees' offspring more resilient.",
    "start": 148.0,
    "end": 159.5
  },
  {
    "text": "What does this all mean?",
    "start": 160.0,
    "end": 162.2
  },
  {
    "text": "There has been a wave of tree planting schemes throughout the UK, with aims to improve biodiversity and our defence against climate change.",
    "start": 163.0,
    "end": 172.0
  },
  {
    "text": "Fast-growing and short-lived tree species are often favoured in these schemes to quickly increase tree numbers.",
    "start": 173.0,
    "end": 180.3
  },
  {
    "text": "But trees that live longer, like oaks, which have a greater memory and resilience, could be a better choice.",
    "start": 181.0,
    "end": 188.0
  }
];

        const player = document.getElementById('player');
        const content = document.getElementById('content');
        const repeatMode = document.getElementById('repeatMode');
        let currentRange = { start: 0, end: 0 };

        // æ¸²æŸ“é¡µé¢å†…å®¹çš„å‡½æ•°
        function renderContent() {
            content.innerHTML = ''; // æ¸…ç©ºæç¤º
            data.forEach((item) => {
                const div = document.createElement('div');
                div.className = "p-4 rounded-xl border-2 border-transparent hover:border-indigo-200 hover:bg-indigo-50 cursor-pointer transition-all duration-200 leading-relaxed text-lg";
                div.innerText = item.text;
                
                div.onclick = () => {
                    currentRange = { start: item.start, end: item.end };
                    player.currentTime = item.start;
                    player.play();
                    
                    // åˆ‡æ¢é«˜äº®çŠ¶æ€
                    document.querySelectorAll('#content div').forEach(el => el.classList.remove('active-segment'));
                    div.classList.add('active-segment');
                };
                content.appendChild(div);
            });
        }

        // åˆå§‹åŒ–æ¸²æŸ“
        renderContent();

        // æ ¸å¿ƒé€»è¾‘ï¼šç›‘å¬æ—¶é—´å®ç°ç²¾å‡†å¤è¯»
        player.addEventListener('timeupdate', () => {
            if (repeatMode.checked && player.currentTime >= currentRange.end) {
                player.currentTime = currentRange.start;
                // æ³¨æ„ï¼šå¦‚æœæƒ³æ— é™å¾ªç¯æ’­æ”¾ï¼Œè¿™é‡Œä¸éœ€è¦å†ç‚¹ play()ï¼Œaudio ä¼šç»§ç»­åœ¨å½“å‰ç‚¹æ’­æ”¾
            }
        });

        // éšè—/æ˜¾ç¤ºåŠŸèƒ½
        function toggleText() {
            content.classList.toggle('opacity-0');
        }
    </script>
</body>
</html>

